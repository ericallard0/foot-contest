var http = require('http');

var footData = 
{"_links":{"_self":{"href":"http://api.football-data.org/alpha/teams/524/fixtures"},"team":{"href":"http://api.football-data.org/alpha/teams/524"}},"count":44,"fixtures":[{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146351"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/521"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-08-07T18:30:00Z","status":"FINISHED","matchday":1,"homeTeamName":"OSC Lille","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":0,"goalsAwayTeam":1},"matchId":"146351"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146343"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/555"}},"date":"2015-08-16T19:00:00Z","status":"FINISHED","matchday":2,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Gazélec Ajaccio","result":{"goalsHomeTeam":2,"goalsAwayTeam":0},"matchId":"146343"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146332"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/518"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-08-21T18:30:00Z","status":"FINISHED","matchday":3,"homeTeamName":"Montpellier Hérault SC","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":0,"goalsAwayTeam":1},"matchId":"146332"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146323"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/548"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-08-30T19:00:00Z","status":"FINISHED","matchday":4,"homeTeamName":"AS Monaco FC","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":0,"goalsAwayTeam":3},"matchId":"146323"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146315"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/526"}},"date":"2015-09-11T18:30:00Z","status":"FINISHED","matchday":5,"homeTeamName":"Paris Saint-Germain","awayTeamName":"FC Girondins de Bordeaux","result":{"goalsHomeTeam":2,"goalsAwayTeam":2},"matchId":"146315"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149342"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/749"}},"date":"2015-09-15T18:45:00Z","status":"FINISHED","matchday":1,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Malmö FF","result":{"goalsHomeTeam":2,"goalsAwayTeam":0},"matchId":"149342"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146305"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/547"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-09-19T15:30:00Z","status":"FINISHED","matchday":6,"homeTeamName":"Stade de Reims","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":1,"goalsAwayTeam":1},"matchId":"146305"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146295"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/538"}},"date":"2015-09-22T19:00:00Z","status":"FINISHED","matchday":7,"homeTeamName":"Paris Saint-Germain","awayTeamName":"EA Guingamp","result":{"goalsHomeTeam":3,"goalsAwayTeam":0},"matchId":"146295"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146283"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/543"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-09-26T15:30:00Z","status":"FINISHED","matchday":8,"homeTeamName":"FC Nantes","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":1,"goalsAwayTeam":4},"matchId":"146283"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149341"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/724"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-09-30T18:45:00Z","status":"FINISHED","matchday":2,"homeTeamName":"Shakhtar Donetsk","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":0,"goalsAwayTeam":3},"matchId":"149341"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146276"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/516"}},"date":"2015-10-04T19:00:00Z","status":"TIMED","matchday":9,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Olympique de Marseille","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146276"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146258"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/536"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-10-17T15:00:00Z","status":"TIMED","matchday":10,"homeTeamName":"SC Bastia","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146258"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149339"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/86"}},"date":"2015-10-21T18:45:00Z","status":"TIMED","matchday":3,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Real Madrid CF","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"149339"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146256"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/527"}},"date":"2015-10-25T20:00:00Z","status":"TIMED","matchday":11,"homeTeamName":"Paris Saint-Germain","awayTeamName":"AS Saint-Étienne","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146256"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146244"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/529"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-10-31T18:00:00Z","status":"TIMED","matchday":12,"homeTeamName":"Stade Rennais FC","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146244"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149336"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/86"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-11-03T19:45:00Z","status":"TIMED","matchday":4,"homeTeamName":"Real Madrid CF","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"149336"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146236"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/511"}},"date":"2015-11-07T18:00:00Z","status":"TIMED","matchday":13,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Toulouse FC","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146236"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146221"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/525"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-11-21T18:00:00Z","status":"TIMED","matchday":14,"homeTeamName":"FC Lorient","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146221"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149334"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/749"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-11-25T19:45:00Z","status":"TIMED","matchday":5,"homeTeamName":"Malmö FF","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"149334"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146214"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/531"}},"date":"2015-11-28T18:00:00Z","status":"TIMED","matchday":15,"homeTeamName":"Paris Saint-Germain","awayTeamName":"ES Troyes AC","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146214"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146198"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/532"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-12-02T18:00:00Z","status":"TIMED","matchday":16,"homeTeamName":"Angers SCO","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146198"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146192"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/522"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-12-05T18:00:00Z","status":"TIMED","matchday":17,"homeTeamName":"OGC Nice","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146192"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/149332"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/405"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/724"}},"date":"2015-12-08T19:45:00Z","status":"TIMED","matchday":6,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Shakhtar Donetsk","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"149332"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146184"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/523"}},"date":"2015-12-12T18:00:00Z","status":"TIMED","matchday":18,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Olympique Lyonnais","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146184"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146170"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/514"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2015-12-19T18:00:00Z","status":"TIMED","matchday":19,"homeTeamName":"SM Caen","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146170"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146165"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/536"}},"date":"2016-01-09T18:00:00Z","status":"TIMED","matchday":20,"homeTeamName":"Paris Saint-Germain","awayTeamName":"SC Bastia","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146165"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146156"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/511"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-01-16T18:00:00Z","status":"TIMED","matchday":21,"homeTeamName":"Toulouse FC","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146156"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146145"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/532"}},"date":"2016-01-23T18:00:00Z","status":"TIMED","matchday":22,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Angers SCO","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146145"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146135"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/527"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-01-30T18:00:00Z","status":"TIMED","matchday":23,"homeTeamName":"AS Saint-Étienne","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146135"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146125"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/525"}},"date":"2016-02-03T18:00:00Z","status":"TIMED","matchday":24,"homeTeamName":"Paris Saint-Germain","awayTeamName":"FC Lorient","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146125"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146116"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/516"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-02-06T18:00:00Z","status":"TIMED","matchday":25,"homeTeamName":"Olympique de Marseille","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146116"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146103"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/521"}},"date":"2016-02-13T18:00:00Z","status":"TIMED","matchday":26,"homeTeamName":"Paris Saint-Germain","awayTeamName":"OSC Lille","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146103"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146096"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/547"}},"date":"2016-02-20T18:00:00Z","status":"TIMED","matchday":27,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Stade de Reims","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146096"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146083"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/523"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-02-27T18:00:00Z","status":"TIMED","matchday":28,"homeTeamName":"Olympique Lyonnais","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146083"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146076"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/518"}},"date":"2016-03-05T18:00:00Z","status":"TIMED","matchday":29,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Montpellier Hérault SC","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146076"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146067"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/531"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-03-12T18:00:00Z","status":"TIMED","matchday":30,"homeTeamName":"ES Troyes AC","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146067"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146055"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/548"}},"date":"2016-03-19T18:00:00Z","status":"TIMED","matchday":31,"homeTeamName":"Paris Saint-Germain","awayTeamName":"AS Monaco FC","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146055"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146044"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/522"}},"date":"2016-04-02T17:00:00Z","status":"TIMED","matchday":32,"homeTeamName":"Paris Saint-Germain","awayTeamName":"OGC Nice","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146044"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146030"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/538"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-04-09T17:00:00Z","status":"TIMED","matchday":33,"homeTeamName":"EA Guingamp","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146030"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146025"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/514"}},"date":"2016-04-16T17:00:00Z","status":"TIMED","matchday":34,"homeTeamName":"Paris Saint-Germain","awayTeamName":"SM Caen","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146025"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146008"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/526"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-04-24T17:00:00Z","status":"TIMED","matchday":35,"homeTeamName":"FC Girondins de Bordeaux","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146008"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/146004"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/529"}},"date":"2016-04-30T17:00:00Z","status":"TIMED","matchday":36,"homeTeamName":"Paris Saint-Germain","awayTeamName":"Stade Rennais FC","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"146004"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/145990"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/555"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/524"}},"date":"2016-05-07T17:00:00Z","status":"TIMED","matchday":37,"homeTeamName":"Gazélec Ajaccio","awayTeamName":"Paris Saint-Germain","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"145990"},{"_links":{"self":{"href":"http://api.football-data.org/alpha/fixtures/145983"},"soccerseason":{"href":"http://api.football-data.org/alpha/soccerseasons/396"},"homeTeam":{"href":"http://api.football-data.org/alpha/teams/524"},"awayTeam":{"href":"http://api.football-data.org/alpha/teams/543"}},"date":"2016-05-14T17:00:00Z","status":"TIMED","matchday":38,"homeTeamName":"Paris Saint-Germain","awayTeamName":"FC Nantes","result":{"goalsHomeTeam":-1,"goalsAwayTeam":-1},"matchId":"145983"}]};

// Foot data
var getFootData = function(){
  var options = {
    hostname: 'api.football-data.org',
    port: 80,
    path: '/alpha/teams/524/fixtures',
    method: 'GET',
    headers: {
      'X-Auth-Token': '561c5c7ec4914ac99d933970e5cad6b9'
    }
  };

  try{
    http.get(options, function(res) {
      // Buffer the body entirely for processing as a whole.
      var bodyChunks = [];
      res.on('data', function(chunk) {
        // You can process streamed parts here...
        bodyChunks.push(chunk);
      }).on('end', function() {
        data = JSON.parse(bodyChunks.join(''));
        data.fixtures = data.fixtures.map(function(f){
          f.matchId = f._links.self.href.split('/').pop();
          return f;
        });
        footData = data;
        console.log("Get foot data req: done");
      })
    }); 
 }
  catch(e){
    console.log("Get foot data req: ERROR: " + e);
  }
};

getFootData();
setInterval(getFootData, 1200000);

var footRoute = {
  define : function(app){
    app.get('/api/v1/foot', function(req, res){
      res.json(footData);
    });
  },
  getData: function(){
    return footData;
  }
} 

module.exports = footRoute;
